Apply the fix proposed in http://trac.sagemath.org/ticket/18546#comment:23
to the bug reported in http://trac.sagemath.org/ticket/19280 .
diff -ru mpir-2.7.0/mpn/x86/applenopic/core2/gmp-mparam.h mpir-2.7.0-new/mpn/x86/applenopic/core2/gmp-mparam.h
--- mpir-2.7.0/mpn/x86/applenopic/core2/gmp-mparam.h	2015-05-30 05:15:49.000000000 +0200
+++ mpir-2.7.0-new/mpn/x86/applenopic/core2/gmp-mparam.h	2015-09-24 19:31:45.060547384 +0200
@@ -1,3 +1,7 @@
+/* see http://trac.sagemath.org/ticket/19280 */
+#define SB_DIVAPPR_Q_SMALL_THRESHOLD 0
+#define SB_DIV_QR_SMALL_THRESHOLD 0
+
 /* Generated by tuneup.c, 2009-10-08, gcc 4.2 */
 
 #define MUL_KARATSUBA_THRESHOLD          22
Nur in mpir-2.7.0-new/mpn/x86/applenopic/core2: gmp-mparam.h~.
diff -ru mpir-2.7.0/mpn/x86/core2/gmp-mparam.h mpir-2.7.0-new/mpn/x86/core2/gmp-mparam.h
--- mpir-2.7.0/mpn/x86/core2/gmp-mparam.h	2015-05-30 05:15:49.000000000 +0200
+++ mpir-2.7.0-new/mpn/x86/core2/gmp-mparam.h	2015-09-24 19:31:32.730385817 +0200
@@ -1,3 +1,7 @@
+/* see http://trac.sagemath.org/ticket/19280 */
+#define SB_DIVAPPR_Q_SMALL_THRESHOLD 0
+#define SB_DIV_QR_SMALL_THRESHOLD 0
+
 /* Generated by tuneup.c, 2010-03-24, gcc 4.4 */
 
 #define MUL_KARATSUBA_THRESHOLD          22
Nur in mpir-2.7.0-new/mpn/x86/core2: gmp-mparam.h~.
diff -ru mpir-2.7.0/mpn/x86/fat/gmp-mparam.h mpir-2.7.0-new/mpn/x86/fat/gmp-mparam.h
--- mpir-2.7.0/mpn/x86/fat/gmp-mparam.h	2015-05-30 05:15:49.000000000 +0200
+++ mpir-2.7.0-new/mpn/x86/fat/gmp-mparam.h	2015-09-24 19:31:51.575803154 +0200
@@ -20,6 +20,10 @@
 the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
 MA 02110-1301, USA. */
 
+/* see http://trac.sagemath.org/ticket/19280 */
+#define SB_DIVAPPR_Q_SMALL_THRESHOLD 0
+#define SB_DIV_QR_SMALL_THRESHOLD 0
+
 #define BITS_PER_MP_LIMB 32
 #define BYTES_PER_MP_LIMB 4
 
Nur in mpir-2.7.0-new/mpn/x86/fat: gmp-mparam.h~.
diff -ru mpir-2.7.0/mpn/x86/gmp-mparam.h mpir-2.7.0-new/mpn/x86/gmp-mparam.h
--- mpir-2.7.0/mpn/x86/gmp-mparam.h	2015-05-30 05:15:49.000000000 +0200
+++ mpir-2.7.0-new/mpn/x86/gmp-mparam.h	2015-09-24 19:32:16.420218287 +0200
@@ -20,6 +20,10 @@
 the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
 MA 02110-1301, USA. */
 
+/* see http://trac.sagemath.org/ticket/19280 */
+#define SB_DIVAPPR_Q_SMALL_THRESHOLD 0
+#define SB_DIV_QR_SMALL_THRESHOLD 0
+
 #define BITS_PER_MP_LIMB 32
 #define BYTES_PER_MP_LIMB 4
 
Nur in mpir-2.7.0-new/mpn/x86: gmp-mparam.h~.
diff -ru mpir-2.7.0/mpn/x86/i486/gmp-mparam.h mpir-2.7.0-new/mpn/x86/i486/gmp-mparam.h
--- mpir-2.7.0/mpn/x86/i486/gmp-mparam.h	2015-05-30 05:15:49.000000000 +0200
+++ mpir-2.7.0-new/mpn/x86/i486/gmp-mparam.h	2015-09-24 19:31:16.962506371 +0200
@@ -19,6 +19,11 @@
 the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
 MA 02110-1301, USA. */
 
+/* see http://trac.sagemath.org/ticket/19280 */
+#define SB_DIVAPPR_Q_SMALL_THRESHOLD 0
+#define SB_DIV_QR_SMALL_THRESHOLD 0
+
+
 #define BITS_PER_MP_LIMB 32
 #define BYTES_PER_MP_LIMB 4
 
Nur in mpir-2.7.0-new/mpn/x86/i486: gmp-mparam.h~.
diff -ru mpir-2.7.0/mpn/x86/k6/gmp-mparam.h mpir-2.7.0-new/mpn/x86/k6/gmp-mparam.h
--- mpir-2.7.0/mpn/x86/k6/gmp-mparam.h	2015-05-30 05:15:49.000000000 +0200
+++ mpir-2.7.0-new/mpn/x86/k6/gmp-mparam.h	2015-09-24 19:31:40.646341539 +0200
@@ -20,6 +20,10 @@
 the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
 MA 02110-1301, USA. */
 
+/* see http://trac.sagemath.org/ticket/19280 */
+#define SB_DIVAPPR_Q_SMALL_THRESHOLD 0
+#define SB_DIV_QR_SMALL_THRESHOLD 0
+
 #define BITS_PER_MP_LIMB 32
 #define BYTES_PER_MP_LIMB 4
 
Nur in mpir-2.7.0-new/mpn/x86/k6: gmp-mparam.h~.
diff -ru mpir-2.7.0/mpn/x86/k7/gmp-mparam.h mpir-2.7.0-new/mpn/x86/k7/gmp-mparam.h
--- mpir-2.7.0/mpn/x86/k7/gmp-mparam.h	2015-05-30 05:15:49.000000000 +0200
+++ mpir-2.7.0-new/mpn/x86/k7/gmp-mparam.h	2015-09-24 19:32:23.167590050 +0200
@@ -1,3 +1,7 @@
+/* see http://trac.sagemath.org/ticket/19280 */
+#define SB_DIVAPPR_Q_SMALL_THRESHOLD 0
+#define SB_DIV_QR_SMALL_THRESHOLD 0
+
 /* Generated by tuneup.c, 2010-03-24, gcc 4.3 */
 
 #define MUL_KARATSUBA_THRESHOLD          26
Nur in mpir-2.7.0-new/mpn/x86/k7: gmp-mparam.h~.
diff -ru mpir-2.7.0/mpn/x86/k7/mmx/k8/gmp-mparam.h mpir-2.7.0-new/mpn/x86/k7/mmx/k8/gmp-mparam.h
--- mpir-2.7.0/mpn/x86/k7/mmx/k8/gmp-mparam.h	2015-05-30 05:15:49.000000000 +0200
+++ mpir-2.7.0-new/mpn/x86/k7/mmx/k8/gmp-mparam.h	2015-09-24 19:32:19.753884166 +0200
@@ -1,3 +1,7 @@
+/* see http://trac.sagemath.org/ticket/19280 */
+#define SB_DIVAPPR_Q_SMALL_THRESHOLD 0
+#define SB_DIV_QR_SMALL_THRESHOLD 0
+
 /* Generated by tuneup.c, 2010-03-24, gcc 4.4 */
 
 #define MUL_KARATSUBA_THRESHOLD          28
Nur in mpir-2.7.0-new/mpn/x86/k7/mmx/k8: gmp-mparam.h~.
diff -ru mpir-2.7.0/mpn/x86/nehalem/gmp-mparam.h mpir-2.7.0-new/mpn/x86/nehalem/gmp-mparam.h
--- mpir-2.7.0/mpn/x86/nehalem/gmp-mparam.h	2015-05-30 05:15:49.000000000 +0200
+++ mpir-2.7.0-new/mpn/x86/nehalem/gmp-mparam.h	2015-09-24 19:32:09.640830522 +0200
@@ -1,3 +1,7 @@
+/* see http://trac.sagemath.org/ticket/19280 */
+#define SB_DIVAPPR_Q_SMALL_THRESHOLD 0
+#define SB_DIV_QR_SMALL_THRESHOLD 0
+
 /* Generated by tuneup.c, 2009-10-07, gcc 4.3 */
 
 #define MUL_KARATSUBA_THRESHOLD          18
Nur in mpir-2.7.0-new/mpn/x86/nehalem: gmp-mparam.h~.
diff -ru mpir-2.7.0/mpn/x86/p6/gmp-mparam.h mpir-2.7.0-new/mpn/x86/p6/gmp-mparam.h
--- mpir-2.7.0/mpn/x86/p6/gmp-mparam.h	2015-05-30 05:15:49.000000000 +0200
+++ mpir-2.7.0-new/mpn/x86/p6/gmp-mparam.h	2015-09-24 19:32:32.796401709 +0200
@@ -20,6 +20,9 @@
 the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
 MA 02110-1301, USA. */
 
+/* see http://trac.sagemath.org/ticket/19280 */
+#define SB_DIVAPPR_Q_SMALL_THRESHOLD 0
+#define SB_DIV_QR_SMALL_THRESHOLD 0
 
 #define BITS_PER_MP_LIMB 32
 #define BYTES_PER_MP_LIMB 4
Nur in mpir-2.7.0-new/mpn/x86/p6: gmp-mparam.h~.
diff -ru mpir-2.7.0/mpn/x86/p6/mmx/gmp-mparam.h mpir-2.7.0-new/mpn/x86/p6/mmx/gmp-mparam.h
--- mpir-2.7.0/mpn/x86/p6/mmx/gmp-mparam.h	2015-05-30 05:15:49.000000000 +0200
+++ mpir-2.7.0-new/mpn/x86/p6/mmx/gmp-mparam.h	2015-09-24 19:32:27.597803891 +0200
@@ -20,6 +20,9 @@
 the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
 MA 02110-1301, USA. */
 
+/* see http://trac.sagemath.org/ticket/19280 */
+#define SB_DIVAPPR_Q_SMALL_THRESHOLD 0
+#define SB_DIV_QR_SMALL_THRESHOLD 0
 
 #define BITS_PER_MP_LIMB 32
 #define BYTES_PER_MP_LIMB 4
Nur in mpir-2.7.0-new/mpn/x86/p6/mmx: gmp-mparam.h~.
diff -ru mpir-2.7.0/mpn/x86/pentium/gmp-mparam.h mpir-2.7.0-new/mpn/x86/pentium/gmp-mparam.h
--- mpir-2.7.0/mpn/x86/pentium/gmp-mparam.h	2015-05-30 05:15:49.000000000 +0200
+++ mpir-2.7.0-new/mpn/x86/pentium/gmp-mparam.h	2015-09-24 19:32:04.174098713 +0200
@@ -20,6 +20,9 @@
 the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
 MA 02110-1301, USA. */
 
+/* see http://trac.sagemath.org/ticket/19280 */
+#define SB_DIVAPPR_Q_SMALL_THRESHOLD 0
+#define SB_DIV_QR_SMALL_THRESHOLD 0
 
 #define BITS_PER_MP_LIMB 32
 #define BYTES_PER_MP_LIMB 4
Nur in mpir-2.7.0-new/mpn/x86/pentium: gmp-mparam.h~.
diff -ru mpir-2.7.0/mpn/x86/pentium/mmx/gmp-mparam.h mpir-2.7.0-new/mpn/x86/pentium/mmx/gmp-mparam.h
--- mpir-2.7.0/mpn/x86/pentium/mmx/gmp-mparam.h	2015-05-30 05:15:49.000000000 +0200
+++ mpir-2.7.0-new/mpn/x86/pentium/mmx/gmp-mparam.h	2015-09-24 19:31:57.902964934 +0200
@@ -20,6 +20,9 @@
 the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
 MA 02110-1301, USA. */
 
+/* see http://trac.sagemath.org/ticket/19280 */
+#define SB_DIVAPPR_Q_SMALL_THRESHOLD 0
+#define SB_DIV_QR_SMALL_THRESHOLD 0
 
 #define BITS_PER_MP_LIMB 32
 #define BYTES_PER_MP_LIMB 4
Nur in mpir-2.7.0-new/mpn/x86/pentium/mmx: gmp-mparam.h~.
diff -ru mpir-2.7.0/mpn/x86/pentium4/sse2/gmp-mparam.h mpir-2.7.0-new/mpn/x86/pentium4/sse2/gmp-mparam.h
--- mpir-2.7.0/mpn/x86/pentium4/sse2/gmp-mparam.h	2015-05-30 05:15:49.000000000 +0200
+++ mpir-2.7.0-new/mpn/x86/pentium4/sse2/gmp-mparam.h	2015-09-24 19:32:36.226115587 +0200
@@ -1,3 +1,7 @@
+/* see http://trac.sagemath.org/ticket/19280 */
+#define SB_DIVAPPR_Q_SMALL_THRESHOLD 0
+#define SB_DIV_QR_SMALL_THRESHOLD 0
+
 /* Generated by tuneup.c, 2014-03-24, gcc 4.7 */
 
 #define MUL_KARATSUBA_THRESHOLD          22
Nur in mpir-2.7.0-new/mpn/x86/pentium4/sse2: gmp-mparam.h~.
