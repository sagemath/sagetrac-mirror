// See https://aka.ms/devcontainer.json for format details.
{
    "name": "archlinux:latest downstream Sage",
    "image": "archlinux:latest",
    // Run commands after the container is created.
    // Create an empty bashrc to avoid the error "No such file or directory" when opening a terminal.
    "postCreateCommand": "EXTRA_SYSTEM_PACKAGES='sagemath sagemath-doc' EXTRA_SAGE_PACKAGES='notebook pip' .devcontainer/post_create.sh && touch ~/.bashrc",
    // Run commands after the container is started.
    // There's no SAGE_LOCAL, so remove the symlink 'prefix'.
    "postStartCommand": "rm -f prefix && ln -sf /usr venv",
    "extensions": [
        "ms-python.python"
    ]
}
